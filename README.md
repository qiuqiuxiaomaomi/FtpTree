# FtpTree
FTP技术研究

![](https://i.imgur.com/ixGGvXn.png)

<pre>
文件传输类型：
           1）基于TCP的FTP
           2) 基于UDP的TFTP 简单邮件传输协议

      FTP屏蔽了各计算机系统的细节，因而适合在异构网络中任意计算机之间传送文件。FTP只提供文
   件传送的一些基本服务，它使用了TCP可靠的传输服务。

      FTP使用客户端-服务器模型，一个FTP服务器进程可以为多个客户端进程提供服务。FTP服务器有
   两大部分组成：
              1）一个主进程，负责接收新的请求；
              2）若干个从属进程，负责处理单个请求；

   主进程工作步骤：
              1）打开21号端口
              2）等待客户端进程发送连接请求
              3）启动从属进程处理客户进程发送的连接请求，从属进程在运行期间可能根据需要
                 可创建其他协议子进程。
              5）回到等待状态，继续接受其他客户端进程发起的请求，主进程与从属进程的处理
                 是并行的。

   FTP控制连接在整个会话期间都保持打开，只用来发送连接/传送请求。当客户进程向服务器发送连
   接请求时，寻找连接服务器进程的熟知端口21，同时还要告诉服务器进程自己的另一个端口号码，
   用于建立数据传送连接。接着，服务器进程用自己传送数据的熟知端口20与客户进程所提供的端口
   号码建立数据传送连接，FTP使用了2个不同的端口号，所以数据连接和控制连接不会混乱。
</pre>